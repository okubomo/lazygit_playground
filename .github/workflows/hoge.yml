name: Test Workflow

on:
  # æ‰‹å‹•å®Ÿè¡Œã‚’å¯èƒ½ã«ã™ã‚‹
  workflow_dispatch:
    inputs:
      service_type:
        description: 'ã‚µãƒ¼ãƒ“ã‚¹ã®ç¨®é¡ï¼ˆçœç•¥å¯ï¼‰'
        required: false
        default: ""
        type: choice
        options:
          - "(åå‰ãªã—)"
          - "apple"
          - "banana"
          - "cocoa"

  # ç‰¹å®šã®ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã§å®Ÿè¡Œ
  push:
    branches:
      - main
      - develop
      - 'feature/*'
      - 'hotfix/*'

  # ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚‚å®Ÿè¡Œ
  pull_request:
    branches:
      - main
      - develop

jobs:
  test-job:
    runs-on: ubuntu-latest

    steps:
      - name: ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
        uses: actions/checkout@v4

      - name: ç’°å¢ƒæƒ…å ±ã®è¡¨ç¤º
        run: |
          echo "ğŸš€ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒé–‹å§‹ã•ã‚Œã¾ã—ãŸï¼"
          echo "ğŸ“… å®Ÿè¡Œæ—¥æ™‚: $(date '+%Y-%m-%d %H:%M:%S')"
          echo "ğŸŒ³ ãƒ–ãƒ©ãƒ³ãƒ: ${{ github.ref_name }}"
          echo "ğŸ‘¤ å®Ÿè¡Œè€…: ${{ github.actor }}"
          echo "ğŸ“ ã‚³ãƒŸãƒƒãƒˆSHA: ${{ github.sha }}"
          echo "ğŸ  ãƒªãƒã‚¸ãƒˆãƒª: ${{ github.repository }}"

      - name: é¸æŠã—ãŸã‚µãƒ¼ãƒ“ã‚¹åã®è¡¨ç¤º
        if: github.event.inputs.service_type
        run: |
          echo "ğŸ’¬ ã‚µãƒ¼ãƒ“ã‚¹å: ${{ github.event.inputs.service_type }}"

      - name: ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã®è¡¨ç¤º
        run: |
          echo "ğŸ“ ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®å†…å®¹:"
          ls -la

      - name: ç°¡å˜ãªãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        run: |
          echo "ğŸ§ª ç°¡å˜ãªãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­..."
          sleep 2
          echo "âœ… ãƒ†ã‚¹ãƒˆå®Œäº†ï¼"

      - name: å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
        run: |
          echo "ğŸ‰ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸï¼"
          echo "â° å®Ÿè¡Œæ™‚é–“: ç´„ $(date '+%H:%M:%S')"
          echo "âœ¨ ã™ã¹ã¦ã®å‡¦ç†ãŒæˆåŠŸã—ã¾ã—ãŸã€‚"
